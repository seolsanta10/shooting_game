# 몬스터 관리 시스템 가이드

## 시스템 개요

100종 이상의 몬스터를 효율적으로 관리하기 위한 ScriptableObject 기반 시스템입니다.

## 주요 컴포넌트

### 1. MonsterData (ScriptableObject)
- 각 몬스터의 데이터를 저장하는 에셋
- 스탯, 색상, 스폰 설정 등을 포함

### 2. MonsterDatabase (ScriptableObject)
- 모든 몬스터 데이터를 모아놓은 데이터베이스
- 레벨/티어별 분류 지원
- 가중치 기반 랜덤 선택 기능

### 3. MonsterSpawner
- 몬스터를 자동으로 스폰하는 시스템
- 레벨 시스템 포함

### 4. MonsterController
- 각 몬스터의 동작을 제어
- 지구 주변을 회전하며 이동
- 플레이어 공격 기능

## 설정 방법

### 1단계: 데이터베이스 생성

1. Unity 에디터에서 `Assets` → `Create` → `비행 게임` → `몬스터 데이터베이스`
2. 이름을 `MonsterDatabase`로 저장
3. 위치: `Assets/Data/MonsterDatabase.asset`

### 2단계: 몬스터 데이터 생성

**방법 A: 수동 생성**
1. `Assets` → `Create` → `비행 게임` → `몬스터 데이터`
2. 각 필드를 설정:
   - Monster Name: 몬스터 이름
   - Prefab: 프리팹 드래그 앤 드롭
   - Health, Move Speed 등 스탯 설정
   - Color: 몬스터 색상
   - Spawn Weight: 스폰 확률 (높을수록 자주 스폰)
   - Min/Max Level: 등장 레벨 범위

**방법 B: 자동 생성 (권장)**
1. 모든 몬스터 프리팹을 `Assets/Prefabs/Monsters` 폴더에 넣기
2. 빈 GameObject에 `MonsterManager` 컴포넌트 추가
3. Monster Database 필드에 데이터베이스 할당
4. 우클릭 → `프리팹에서 몬스터 데이터 자동 생성`
5. 각 데이터를 열어서 스탯 조정

### 3단계: 데이터베이스에 몬스터 추가

1. `MonsterDatabase` 에셋 선택
2. Inspector에서 `All Monsters` 리스트에 생성한 몬스터 데이터들을 드래그 앤 드롭
3. `카테고리 자동 분류` 버튼 클릭 (티어별 자동 분류)

### 4단계: 스폰 시스템 설정

1. 빈 GameObject 생성 → 이름: `MonsterSpawner`
2. `MonsterSpawner` 컴포넌트 추가
3. 설정:
   - Monster Database: 생성한 데이터베이스 할당
   - Planet Center: Ground 오브젝트 할당
   - Spawn Radius: 30
   - Spawn Height: 30
   - Max Monsters: 20
   - Spawn Interval: 3

## 몬스터 추가하기

### 새 몬스터 추가 절차:

1. **프리팹 만들기**
   - enemy1~10 중 하나를 프리팹으로 만들기
   - `Assets/Prefabs/Monsters` 폴더에 저장

2. **데이터 생성**
   - `Assets` → `Create` → `비행 게임` → `몬스터 데이터`
   - Prefab 필드에 새 프리팹 할당
   - 스탯 설정

3. **데이터베이스에 추가**
   - `MonsterDatabase` 에셋 열기
   - `All Monsters` 리스트에 새 데이터 추가
   - `카테고리 자동 분류` 클릭

## 레벨 시스템

- 몬스터는 레벨에 따라 자동으로 선택됩니다
- 레벨이 올라갈수록 더 강한 몬스터가 스폰됩니다
- `Monsters Per Level`: 레벨당 처치해야 할 몬스터 수

## 가중치 시스템

- `Spawn Weight`가 높을수록 자주 스폰됩니다
- 예: 일반 몬스터 = 10, 보스 = 1

## 폴더 구조 권장사항

```
Assets/
├── Prefabs/
│   └── Monsters/
│       ├── enemy1.prefab
│       ├── enemy2.prefab
│       └── ...
├── Data/
│   ├── MonsterDatabase.asset
│   └── Monsters/
│       ├── enemy1_Data.asset
│       ├── enemy2_Data.asset
│       └── ...
└── Scripts/
    ├── MonsterData.cs
    ├── MonsterDatabase.cs
    ├── MonsterSpawner.cs
    ├── MonsterController.cs
    └── MonsterManager.cs
```

## 팁

1. **대량 추가**: 프리팹을 모두 폴더에 넣고 자동 생성 기능 사용
2. **밸런스 조정**: 데이터베이스에서 한 번에 모든 몬스터 스탯 확인 가능
3. **테스트**: 스폰 간격을 짧게 해서 빠르게 테스트
4. **카테고리**: 티어별로 몬스터를 분류해서 레벨별 난이도 조절

## 확장 가능성

- 몬스터 타입별 특수 능력 추가
- 보스 몬스터 시스템
- 몬스터 드롭 아이템 시스템
- 몬스터 애니메이션 관리
